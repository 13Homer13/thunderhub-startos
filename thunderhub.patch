--- thunderhub/arm32v7.Dockerfile	2021-06-15 12:35:10.802870058 -0600
+++ Dockerfile2	2021-06-22 16:11:05.411623719 -0600
@@ -1,20 +1,20 @@
 # ---------------
 # Install Dependencies
 # ---------------
-FROM arm32v7/node:14.15-alpine as deps
+FROM arm32v6/node:16-alpine3.13 as deps
 
 WORKDIR /app
 
 # Install dependencies neccesary for node-gyp on node alpine
 RUN apk add --update --no-cache \
     libc6-compat \
-    python \
+    python3 \
     make \
     g++
 
 
 # Install app dependencies
-COPY package.json package-lock.json ./
+COPY ./thunderhub/package.json ./thunderhub/package-lock.json ./
 RUN npm install
 
 # ---------------
@@ -30,7 +30,7 @@
 ENV NEXT_TELEMETRY_DISABLED=1
 
 # Build the NextJS application
-COPY . .
+COPY ./thunderhub .
 RUN npm run build
 
 # Remove non production necessary modules
@@ -39,7 +39,10 @@
 # ---------------
 # Release App
 # ---------------
-FROM arm32v7/node:14.15-alpine
+FROM arm32v6/node:16-alpine3.13
+
+RUN echo https://dl-cdn.alpinelinux.org/alpine/edge/community >> /etc/apk/repositories
+RUN apk add --update --no-cache yq bash
 
 WORKDIR /app
 
@@ -53,8 +56,10 @@
 COPY --from=build /app/node_modules/ ./node_modules 
 COPY --from=build /app/.next/ ./.next
 
-COPY ./scripts/initCookie.sh ./scripts/initCookie.sh
+COPY ./thunderhub/scripts/initCookie.sh ./scripts/initCookie.sh
 
 EXPOSE 3000 
 
-CMD [ "npm", "start" ]
\ No newline at end of file
+COPY ./docker_entrypoint.sh /usr/local/bin/docker_entrypoint.sh
+
+ENTRYPOINT ["/usr/local/bin/docker_entrypoint.sh"]
\ No newline at end of file
